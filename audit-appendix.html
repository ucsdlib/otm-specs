<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>OTM Appendix</title>
  <script
  src='https://www.w3.org/Tools/respec/respec-w3c'
  class='remove'></script>
  <script class='remove'>
  var respecConfig = {
    specStatus: "unofficial",
    editors: [{
      name: "Mike Ritter",
      company: "Chronopolis"
    }],
    gitHub: "ucsdlib/otm-specs",
    shortName: "audit-appendix",
    wg: "One to Many Working Group",
    wgURI: "https://wiki.duraspace.org/display/OTM",
    edDraftURI: "https://github.com/ucsdlib/otm-specs/blob/master/audit-appendix.html",
    overrideCopyright: "<p class='copyright'>This document is licensed under a <a class='subfoot' href='https://creativecommons.org/licenses/by/4.0/' rel='license'>Creative Commons Attribution 4.0 License</a>.</p>",
    maxTocLevel: 3
  };
  </script>
</head>
<body>
  <section id='abstract'>
    <p>
      This document provides a base set of events for implementors to build off of in order to provide
      status updates from the DDP and OTM Bridge to the OTM Gateway and Repository.
    </p>
  </section>
  <section id='sotd'>
  </section>
  <section class="informative">
  </section>
  <section>
    <h2>Audit Log Events</h2>
    <p class="note">
      The audit log events are based on initial discussions between representatives from Chronopolis and
      APTrust and should be considered in draf form as additional discussions with other DDPs may uncover
      differences in auditing practices.
    </p>
    <section>
      <h3>Ingest</h3>
      The Ingest event represents the Ingestion of content from an OTM Gateway by a DDP.
      This event can represent either a filegroup being Ingested or a file being ingested.

      <table id="ingest-fields" class="simple">
        <thead>
          <tr>
            <th>Field Name</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the filegroup or file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was ingested</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Ingest event completed</td>
          </tr>
          <tr>
            <td>Checksum</td>
            <td>The checksum recorded by the DDP at Ingest</td>
          </tr>
          <tr>
            <td>Bytes Ingested</td>
            <td>The number of bytes ingested for the filegroup or the file</td>
          </tr>
          <tr>
            <td>files ingested</td>
            <td>The number of files ingested</td>
          </tr>
        </tbody>
      </table>

      <p class="note">
        This could be split into two discrete events, one for the filegroup and one for each file.
      </p>
    </section>

    <section>
      <h3>Replication</h3>
      The Replication event represents the distribution of an filegroup or a file to a single
      location within a DDP.

      <table id="replication-fields" class="simple">
        <thead>
          <tr>
            <th>Field</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the filegroup or file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was replicated</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Replication event completed</td>
          </tr>
          <tr>
            <td>Replicated To</td>
            <td>The location where filegroup or file was replicated</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h3>Fixity</h3>
      The Fixity event represents an action taken by a DDP in order to validate that the
      file they have received in an filegroup has not been changed. This can occur at any
      point in the lifecycle of the file.

      <table id="fixity-fields" class="simple">
        <thead>
          <tr>
            <th>Field</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was checked</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Fixity event occured</td>
          </tr>
          <tr>
            <td>Checksum</td>
            <td>The checksum calculated according to the algorithm used</td>
          </tr>
          <tr>
            <td>Algorithm</td>
            <td>The algorithm used to validate the file</td>
          </tr>
          <tr>
            <td>Fixity Result</td>
            <td>Boolean value indicating success or failure of the event</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h3>Deletion</h3>
      A Deletion event represents the removal of one or more files from DDP storage.
       

      <table id="delete-fields" class="simple">
        <thead>
          <tr>
            <th>Field</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the filegroup or file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was deleted</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Delete event occured</td>
          </tr>
          <tr>
            <td>Checksum</td>
            <td>The checksum value of the file which was deleted</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h3>Repair</h3>
      A Repair event occurs when a DDP resolves any file corruption. Although this is internal to 
      the DDP, it is considered to be an event that may be auditable.

      <table id="repair-fields" class="simple">
        <thead>
          <tr>
            <th>Field</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the filegroup or file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was repaired</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Delete event occured</td>
          </tr>
          <tr>
            <td>Repair Outcome</td>
            <td>The result of the Repair</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section>
      <h3>Restoration</h3>
      Restoration is an event which occurs when the Repository requests an filegroup be retrieved
      from a DDP.

      <table id="restore-fields" class="simple">
        <thead>
          <tr>
            <th>Field</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Identifier</td>
            <td>Identifier associated with the filegroup or file</td>
          </tr>
          <tr>
            <td>Version</td>
            <td>The version identifier of the filegroup or file which was restored</td>
          </tr>
          <tr>
            <td>Timestamp</td>
            <td>The timestamp of when the Delete event occured</td>
          </tr>
          <tr>
            <td>Success</td>
            <td>The result of the Restoration</td>
          </tr>
          <tr>
            <td>From</td>
            <td>The location in the DDP where the filegroup or file came from</td>
          </tr>
        </tbody>
      </table>
    </section>

  </section>
</body>
</html>
