<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>OTM Bridge API Specification</title>
    <script
     src='https://www.w3.org/Tools/respec/respec-w3c'
     class='remove'></script>
    <script class='remove'>
      var respecConfig = {
        specStatus: "unofficial",
        editors: [{
          name: "Bill Branan",
          company: "LYRASIS",
          companyURL: "https://lyrasis.org",
        }],
        gitHub: "ucsdlib/otm-specs",
        shortName: "otm-bridge-api",
        wg: "One to Many Working Group",
        wgURI: "https://wiki.duraspace.org/display/OTM",
        edDraftURI: "https://github.com/ucsdlib/otm-specs/blob/master/otm-bridge.html",
        overrideCopyright: "<p class='copyright'>This document is licensed under a <a class='subfoot' href='https://creativecommons.org/licenses/by/4.0/' rel='license'>Creative Commons Attribution 4.0 License</a>.</p>",
        maxTocLevel: 3
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        The One To Many (OTM) Bridge API Specification is one of two APIs used to support communication between digital
        content repository systems (Repository) and distributed digital preservation systems (DDP) in order to facilitate
        depositing, deletion, restoration, and auditing of digital content managed by one or both systems. The APIs defined
        are the OTM Repository Gateway API (Gateway) for the Repository and the OTM Bridge API (Bridge) for the DDP. The
        Gateway and the Bridge APIs handle intermediary communication between the Repository and DDP and allow each system to
        operate without any knowledge of the internals of the other system. Each API is designed to facilitate deployment
        either as part of or extension to the Repository (in the case of the Gateway) or the DDP (in the case of the Bridge)
        or as a stand-alone application. They each provide an HTTP-based approach for authentication, communication, and data
        transfer.
      </p>
    </section>
    <section id='sotd'>
      <p>
      </p>
    </section>
    <section class="informative">
      <h2>Notes</h2>
      <ul>
        <li>The method of application authentication and authorization may vary by API implementation</li>
      </ul>
    </section>
    <section>
      <h2>Base Endpoints</h2>

      <section>
        <h3><dfn>Bridge Details</dfn></h3>
        <p>Provides information about the Bridge application. Can also be used to verify that the Bridge application is
        available at the expected URL.</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/</code></li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>bridge-version</code>: The current version of the Bridge application</li>
              <li><code>supported-checksum-types</code>: The checksum types that are supported in a comma-separated list.
              Allowed values: MD5, SHA-1, SHA-256, SHA-512</li>
            </ul>
          </li>
          <pre class="example">
            {
              "bridge-version" : "1.0.0",
              "supported-checksum-types" : "MD5,SHA-256"
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Register</dfn></h3>
        <p>Allows a repository with a Gateway deployment to register itself with the Bridge. The information provided in this
        registration will allow the Bridge to make calls back to the Gateway, such as to pull content listed in a deposit
        request. This call must be made prior to calls to deposit content. This call may also be made to update the Gateway
        registration information.</p>
        <ul>
          <li>Request Type: <code>POST</code></li>
          <li>Request Path: <code>/register</code></li>
          <li>Request Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>gateway-url</code>:
                Base endpoint URL where the Bridge can call back to this Gateway API</li>
              <li><code>gateway-username</code>:
                Credentials to allow the Bridge to make calls back to the Gateway API</li>
              <li><code>gateway-password</code>:
                Credentials to allow the Bridge to make calls back to the Gateway API</li>
            </ul>
          </li>
          <pre class="example">
            {
              "gateway-url" : "https://example.com/gateway",
              "gateway-username" : "example-username",
              "gateway-password" : "5ecret!"
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>In order for a call to this endpoint to be successful an account with associated credentials will already need
          to exist in the Bridge. This must have been created in advance by the DDP  (see <a>Add Account</a>).</li>
          <li>This endpoint may be called both to perform an initial registration and to provide updates to registration
          information. Calls made by the Bridge after a registration update will use the updated details.</li>
        </ul>
      </section>

  </section>
  <section>
    <h2>Deposit Endpoints</h2>

      <section>
        <h3><dfn>Deposit Content</dfn></h3>
        <p>Requests that a set of content be deposited into the DDP</p>
        <ul>
          <li>Request Type: <code>POST</code></li>
          <li>Request Path: <code>/deposit ? checksum-type & deposit-format</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>checksum-type</code>: (Optional) Indicates the type of checksum used. Applies to all file checksums
              (can be one of: MD5, SHA-1, SHA-256, SHA-512). Default is MD5.</li>
              <li><code>deposit-format</code>: (Optional) Format of content being deposited</li>
            </ul>
          </li>
          <li>Request Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies a filegroup. Filegroups are generic groupings of files that can be used to
              capture structure such as in a digital object or work</li>
              <li><code>version</code>: The version of a filegroup</li>
              <li><code>files</code>: List of files included in the filegroup</li>
              <li>File ID: Identifies a file within a filegroup</li>
              <li>File Checksum: The checksum of a file; the type of checksum is defined by the
                <code>checksum-type</code> query parameter</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : {                                   # Filegroup ID
                "version" : "2019-12-31T23:59:60Z",
                "files" : {
                  "file-1" : "d41d8cd98f00b204e9800998ecf8427e",  # File ID and File Checksum
                  "file-2" : "d41d8cd98f00b204e9800998ecf8427e"   # File ID and File Checksum
                }
              },
              "filegroup-2" : {                                   # Filegroup ID
                "version" : "2019-12-31T23:59:60Z",
                "files" : {
                  "file-3" : "d41d8cd98f00b204e9800998ecf8427e",  # File ID and File Checksum
                  "file-4" : "d41d8cd98f00b204e9800998ecf8427e"   # File ID and File Checksum
                }
              },                                                  # Additional filegroups listed here
            }
          </pre>
          <li>Response Code: <code>201</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>Each filegroup in the request body is considered an independent deposit which can be referred to in subsequent
          requests by the filegroup identifier.</li>
          <li>There is an explicit expectation that the content to be deposited will be available from the Gateway at the
          path: <code>gateway-url / filegroup-id / file-id</code>. How the Gateway resolves the file streams based on a
          request to this URL is irrelevant to the Bridge.</li>
          <li>Provided filegroup IDs and file IDs must be URL-safe to support the Bridge requesting those files from the
          Gateway and the reverse in the restore context</li>
          <li>There is no guarantee that all filegroups in a single deposit request will be deposited into the DDP at the
          same time. This allows the Bridge to manage transfers based on available resources (so as to not over-run local
          disk, for example).</li>
          <li>The Bridge and DDP will consider the version value as opaque and not attempt to assign any meaning to the
          value.</li>
          <li>Not including "version" in the JSON is acceptable and is functionally the same as "version" : "". This "empty"
          version is equivalent to any other version.</li>
          <li>Attempting to deposit a filegroup with a filegroup ID and version that both match a previous deposit will be
          considered an error and rejected.</li>
          <li>When new filegroup versions are deposited, the Bridge may choose to retrieve and submit to the DDP only those
          files which have changed between versions (based on file ID and checksum).</li>
          <li>The deposit-format parameter allows the depositor to specify the format of the content being deposited. The
          Bridge implementation may choose to only support deposits of certain types. Agreements between the depositor and
          the DDP should specify which types are to be used for deposit.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>List Deposits</dfn></h3>
        <p>Retrieves a listing of all in-process deposits</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/deposit ? status</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>status</code>: (Optional) Limit list to deposits with a specific deposit status</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies the filegroup being deposited</li>
              <li><code>version</code>: The version of a filegroup</li>
              <li><code>file-count</code>: The number of files in a deposit</li>
              <li><code>status</code>: The current state of the deposit</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : {                     # Filegroup ID
                "version : "2019-12-31T23:59:60Z",
                "file-count" : "2",
                "status" : "TRANSFERRING"
              },                                    # Additional filegroups listed here
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>List requests made by a depositor will return only those deposits which were initiated by that depositing
          entity</li>
          <li>List requests made by the DDP (to determine if there are deposits which are ready for processing) will return
          results for all depositors</li>
          <li>An optional query parameter could be added to allow a DDP to limit the response based on depositor</li>
          <li>This list will grow large if many deposits are initiated at once and may require paged results</li>
          <li>This list will not include all historical deposits, but only those that are in the process of being
          deposited</li>
          <li>The set of possible values for <code>status</code> will be set by the DDP. This field is intended to
          be informational rather than actionable.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Get Deposit Status</dfn></h3>
        <p>Allows the Gateway to ask for status of a specific deposit</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/deposit/{filegroup-id}</code></li>
          <li>Request Path Parameters:
            <ul>
              <li><code>filegroup-id</code>: The ID of the filegroup being deposited</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies the filegroup being deposited</li>
              <li><code>version</code>: The version of a filegroup</li>
              <li><code>file-count</code>: The number of files in a deposit</li>
              <li><code>status</code>: The current state of the deposit</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : {                     # Filegroup ID
                "version : "2019-12-31T23:59:60Z",
                "file-count" : "2",
                "status" : "TRANSFERRING"
              }
            }
          </pre>
          <li>Response Code:
             <ul>
               <li><code>200</code> (on success)</li>
               <li><code>404</code> (if the provided Filegroup ID does not exist in the system)</li>
             </ul>
          </li>
        </ul>
        <ul class="note">
          <li>It would be possible to retain enough information to be able to provide a tombstone-type response for
          filegroups which have completed deposit. Alternatively, requests for filegroups that have completed deposit could
          be forwarded to <a>Get Deposited Details</a>.</li>
          <li>The set of possible values for <code>status</code> will be set by the DDP. This field is intended to
          be informational rather than actionable.</li>
        </ul>
      </section>

    </section>
    <section>
      <h2>Discovery Endpoints</h2>

      <section>
        <h3><dfn>List Deposited</dfn></h3>
        <p>Retrieves a list of all deposited filegroup IDs</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/list</code></li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>Filegroup ID</code>: Identifier of deposited filegroup</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1-id",  # Filegroup ID
              "filegroup-2-id",  # Filegroup ID
                                 # Additional filegroups listed here
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Get Deposited Details</dfn></h3>
        <p>Retrieves details about a deposited filesgroup, including versions and associated files</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/list/{filegroup-id}/{file-id}</code></li>
          <li>Request Path Parameters:
            <ul>
              <li><code>filegroup-id</code>: The identifier of the filegroup for which information is requested</li>
              <li><code>file-id</code>: (Optional) The identifier of the file for which information is requested</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>checksum-type</code>: Type of checksum used for files, can be one of: MD5, SHA-1, SHA-256,
              SHA-512</li>
              <li><code>filegroup</code>: Filegroup identifier</li>
              <li>Version: The version of the filegroup</li>
              <li>File ID: Identifies a file within a filegroup</li>
              <li><code>size</code>: Size of a file in bytes</li>
              <li><code>checksum</code>: Checksum of a file (type of checksum is defined by <code>checksum-type</code>)</li>
            </ul>
          </li>
          <pre class="example">
            {
              "checksum-type" : "",
              "filegroup" : "filegroup-1",
              "2019-12-31T23:59:60Z" : {  # Version
                "file-1" : {              # File ID
                  "size" : "654321",
                  "checksum" : "d41d8cd98f00b204e9800998ecf8427e"
                },
                "file-2" : {              # File ID
                  "size" : "654321",
                  "checksum" : "d41d8cd98f00b204e9800998ecf8427e"
                },                        # Additional files listed here
              },                          # Additional filegroup versions listed here
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>When a file-id is included, the file matching that ID is the only one returned in files list</li>
          <li>This list would not include deleted versions or files. A tombstone capability is possible, but not currently
          part of this specification.</li>
        </ul>
      </section>

    </section>
    <section>
      <h2>Delete Endpoints</h2>

      <section>
        <h3><dfn>Delete Content</dfn></h3>
        <p>Removes one or more files from DDP storage</p>
        <ul>
          <li>Request Type: <code>POST</code></li>
          <li>Request Path: <code>/delete</code></li>
          <li>Request Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies the filegroup from which the file should be deleted</li>
              <li><code>version</code>: The version of a filegroup from which the file should be deleted</li>
              <li><code>files</code>: List of files to be deleted</li>
              <li>File ID: Identifies a file to be deleted</li>
              <li>File Checksum: The checksum of a file of the file to be deleted. The checksum type must match the type
              returned in <a>Get Deposited Details</a>. Including the checksum is optional and is used only to verify that
              the correct file is being deleted</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : {                                   # Filegroup ID
                "version" : "2019-12-31T23:59:60Z",
                "files" : {
                  "file-1" : "d41d8cd98f00b204e9800998ecf8427e",  # File ID and File Checksum
                  "file-2" : "d41d8cd98f00b204e9800998ecf8427e"   # File ID and File Checksum
                }
              },                                                  # Additional filegroups listed here
            }
          </pre>
          <li>Response Code: <code>202</code> (on success)</li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>delete-id</code>: The identifier for this delete action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "delete-id" : "54321"
            }
          </pre>
        </ul>
        <ul class="note">
          <li>It would be possible to retain enough information to be able to provide a tombstone-type response for File IDs
          which were at some point in the system but have been removed.</li>
          <li>It would be possible to allow the "files" section to be omitted if all files in a given filegroup version are
          to be deleted.</li>
          <li>It would be possible to allow the value associated with a filegroup ID to be omitted if all files in all
          versions of a filegroup are to be deleted.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>List Deletes</dfn></h3>
        <p>Retrieves a listing of all in-process deletes</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/delete ? status</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>status</code>: (Optional) Limit list to delete actions with a specific status</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>Delete ID</code>: Identifier for delete action</li>
              <li><code>file-count</code>: The number of files to be deleted</li>
              <li><code>status</code>: The current state of the delete action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "delete-1" : {           # Delete ID
                "file-count" : "7",
                "status" : "DELETING"
              },                       # Additional delete actions listed here
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>Use is anticipated by both the Gateway (to check on delete requests) and the DDP (to determine if there are
          delete requests which are ready for processing)</li>
          <li>Delete IDs returned by this method are only those that are in-process</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Get Delete Status</dfn></h3>
        <p>Allows the repository to ask for status of a content delete action</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/delete/{delete-id}</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>delete-id</code>: The identifier of the delete action</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>Delete ID</code>: Identifier for delete action</li>
              <li><code>file-count</code>: The number of files to be deleted</li>
              <li><code>status</code>: The current state of the delete action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "delete-1" : {
                "file-count" : "7",
                "status" : "DELETING"
              }
            }
          </pre>
          <li>Response Code:
             <ul>
               <li><code>200</code> (on success)</li>
               <li><code>404</code> (if the provided Delete ID does not exist in the system)</li>
             </ul>
          </li>
        </ul>
      </section>

    </section>
    <section>
      <h2>Restore Endpoints</h2>

      <section>
        <h3><dfn>Restore Content</dfn></h3>
        <p>Requests that content be made available for restore</p>
        <ul>
          <li>Request Type: <code>POST</code></li>
          <li>Request Path: <code>/restore</code></li>
          <li>Request Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies the filegroup from which the file should be restored</li>
              <li><code>version</code>: The version of a filegroup from which the file should be restored</li>
              <li><code>files</code>: List of files to be restored</li>
              <li>File ID: Identifies a file to be restored</li>
              <li>File Checksum: The checksum of a file of the file to be restored. The checksum type must match the type
              returned in <a>Get Deposited Details</a>. Including the checksum is optional and is used only to verify that
              the correct file is being restored</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : {                                   # Filegroup ID
                "version" : "2019-12-31T23:59:60Z",
                "files" : {
                  "file-1" : "d41d8cd98f00b204e9800998ecf8427e",  # File ID and File Checksum
                  "file-2" : "d41d8cd98f00b204e9800998ecf8427e"   # File ID and File Checksum
                }
              },                                                  # Additional filegroups listed here
            }
          </pre>
          <li>Response Code: <code>202</code> (on success)</li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>restore-id</code>: The identifier for this restore action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "restore-id" : "54321"
            }
          </pre>
        </ul>
        <ul class="note">
          <li>Checksum may be used to select which version of a file to restore. If no checksum is provided most recent
          version is assumed.</li>
          <li>It would be possible to allow the "files" section to be omitted if all files in a given filegroup version are
          to be restored.</li>
          <li>It would be possible to allow the value associated with a filegroup ID to be omitted if all files in all
          versions of a filegroup are to be restored.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>List Restores</dfn></h3>
        <p>Retrieves a listing of all in-process restores</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/restore ? status</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>status</code>: (Optional) Limit list to restore actions with a specific status</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>Restore ID</code>: Identifier for restore action</li>
              <li><code>file-count</code>: The number of files to be restored</li>
              <li><code>status</code>: The current state of the restore action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "restore-1" : {
                "file-count" : "12",
                "status" : "STAGING",
                "expiration" : "2020-12-31T23:59:60Z"
              },                                       # Additional restore actions listed here
            }
          </pre>
          <li>Response Code: <code>200</code> (on success)</li>
        </ul>
        <ul class="note">
          <li>Use is anticipated by both the Gateway (to check on restore requests) and the DDP (to determine if there are
          restore requests which are ready for processing)</li>
          <li>Restore IDs returned by this method are only those that are in-process</li>
          <li>Restored content will only be made available on the Bridge for a limited time. After this time, content will be
          removed and the status of the restore will be changed to expired.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Get Restore Status</dfn></h3>
        <p>Allows the repository to ask for status of a specific content restore action</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/restore/{restore-id}</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>restore-id</code>: The identifier of the restore action</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li><code>file-count</code>: The number of files to be restored</li>
              <li><code>status</code>: The current state of the restore action</li>
            </ul>
          </li>
          <pre class="example">
            {
              "file-count" : "12",
              "status" : "STAGING",
              "expiration" : "2020-12-31T23:59:60Z"
            }
          </pre>
          <li>Response Code:
             <ul>
               <li><code>200</code> (on success)</li>
               <li><code>404</code> (if the provided Restore ID does not exist in the system)</li>
             </ul>
          </li>
        </ul>
        <ul class="note">
          <li>Restored content will only be made available on the Bridge for a limited time. After this time, content will be
          removed and the status of the restore will be changed to expired.</li>
        </ul>
      </section>

      <section>
        <h3><dfn>Get Restored Content</dfn></h3>
        <p>Allows the repository to retrieve restored content from the Bridge</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/restore/{restore-id}/{filegroup-id}/{file-id}</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>restore-id</code>: The identifier of the restore action</li>
              <li><code>filegroup-id</code>: The identifier of the filegroup</li>
              <li><code>file-id</code>: The identifier of the file to retrieve</li>
            </ul>
          </li>
          <li>Respnse: File stream of the restored file</li>
          <li>Response Headers:
             <ul>
               <li><code>ETag</code>: Checksum of the restored file in the format indicated by <a>Get Deposited
               Details</a></li>
               <li><code>Content-Length</code>: Size in bytes of the restored file</li>
             </ul>
          </li>
          <li>Response Code:
             <ul>
               <li><code>200</code> (on success)</li>
               <li><code>404</code> (if the provided Restore ID does not exist in the system)</li>
             </ul>
          </li>
        </ul>
      </section>

    </section>
    <section>
      <h2>Audit Endpoints</h2>

      <section>
        <h3><dfn>Get Audit Log</dfn></h3>
        <p>Retrieves an audit history report. The report will list audit events associated with a single file or set of files
        in a filegroup.</p>
        <ul>
          <li>Request Type: <code>GET</code></li>
          <li>Request Path: <code>/audit/{filegroup-id}/{file-id}</code></li>
          <li>Request Query Parameters:
            <ul>
              <li><code>filegroup-id</code>: The identifier of the filegroup for which an audit report is requested</li>
              <li><code>file-id</code>: (Optional) The identifier of the file for which an audit report is requested. If this
              is not provided the audit report is requested based on the filegroup-id</li>
            </ul>
          </li>
          <li>Response Body: <code>JSON</code></li>
          <li>
            <ul>
              <li>Filegroup ID: Identifies the filegroup for which audit data is requested</li>
              <li>File ID: Identifies the file for which audit data is requested</li>
              <li><code>date</code>: Date and time that the event occurred</li>
              <li><code>type</code>: Type of event that occurred</li>
              <li><code>details</code>: Details of the event that occurred</li>
            </ul>
          </li>
          <pre class="example">
            {
              "filegroup-1" : [                                           # Filegroup ID
                {
                  "file-1" : [                                            # File ID
                    {
                      "date" : "2019-12-31T23:59:60Z",
                      "type" : "replication",
                      "details" : "Replication to the UCSD storage node"
                    },                                                    # Additional events for this file listed here
                  ],                                                      # Additional files listed here
                }
              ]
            }
          </pre>
          <li>Response Code:
             <ul>
               <li><code>200</code> (on success)</li>
               <li><code>404</code> (if no audit information exists for the requested Filegroup ID or File ID)</li>
             </ul>
          </li>
        </ul>
        <ul class="note">
          <li>It may be desirable to provide paged results for large result sets</li>
          <li>Types and fields of expected history events are to be listed in the OTM Appendix</li>
        </ul>
      </section>

    </section>
    <section>
      <h2>DDP Endpoints</h2>
      Endpoints used only by the DDP system to integrate with the Bridge.

    </section>
  </body>
</html>
